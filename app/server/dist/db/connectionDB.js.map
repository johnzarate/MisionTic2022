{"version":3,"sources":["../../src/db/connectionDB.js"],"names":["dotenv","config","uri","process","env","DATABASE_URL","client","MongoClient","useNewUrlParser","useUnifiedTopology","dbConnection","connectDB","callback","connect","err","clientMongo","console","log","db","getDBInstance"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEAA,gBAAOC,MAAP,CAAc,SAAd,E,CAEA;;;AACA,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYC,YAAxB,C,CAEA;;AACA,MAAMC,MAAM,GAAG,IAAIC,oBAAJ,CAAgBL,GAAhB,EAAqB;AAClCM,EAAAA,eAAe,EAAE,IADiB;AAElCC,EAAAA,kBAAkB,EAAE;AAFc,CAArB,CAAf;AAKA,IAAIC,YAAJ,C,CAEA;;AACA,MAAMC,SAAS,GAAIC,QAAD,IAAc;AAC9BN,EAAAA,MAAM,CAACO,OAAP,CAAe,CAACC,GAAD,EAAMC,WAAN,KAAsB;AACnC,QAAID,GAAJ,EAAS;AACP,aAAOA,GAAP;AACD;;AACDE,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACAP,IAAAA,YAAY,GAAGK,WAAW,CAACG,EAAZ,CAAe,YAAf,CAAf;AACA,WAAON,QAAQ,EAAf;AACD,GAPD;AAQD,CATD;;AAWA,MAAMO,aAAa,GAAG,MAAM;AAC1B,SAAOT,YAAP;AACD,CAFD;;eAIe;AAAEC,EAAAA,SAAF;AAAaQ,EAAAA;AAAb,C","sourcesContent":["import { MongoClient } from \"mongodb\";\nimport dotenv from \"dotenv\";\n\ndotenv.config(\"../.env\");\n\n//database url from .env file (using dotenv)\nconst uri = process.env.DATABASE_URL;\n\n//creating client to communicate with the database\nconst client = new MongoClient(uri, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n});\n\nlet dbConnection;\n\n// callback is a function that will be executed then that something happen\nconst connectDB = (callback) => {\n  client.connect((err, clientMongo) => {\n    if (err) {\n      return err;\n    }\n    console.log(\"Connected\");\n    dbConnection = clientMongo.db(\"thunder-db\");\n    return callback();\n  });\n};\n\nconst getDBInstance = () => {\n  return dbConnection;\n};\n\nexport default { connectDB, getDBInstance };\n"],"file":"connectionDB.js"}